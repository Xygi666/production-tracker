<!DOCTYPE html>
<html lang="ru">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover">
  <meta name="theme-color" content="#2c3e50">
  <title>–£—á—ë—Ç –ø—Ä–æ–¥—É–∫—Ü–∏–∏</title>
  <link rel="manifest" href="manifest.json">
  <link rel="icon" href="icon-192.png" sizes="192x192">
  <link rel="icon" href="icon-512.png" sizes="512x512">
  <link rel="stylesheet" href="styles.css">
</head>
<body data-theme="classic">
  <div class="app">

    <header class="header">
      <div class="header__container">
        <div class="header__brand">
          <h1 class="header__title">üìä –£—á—ë—Ç –ø—Ä–æ–¥—É–∫—Ü–∏–∏</h1>
          <div class="header__subtitle">–î–æ—Ö–æ–¥ –∑–∞ –º–µ—Å—è—Ü: <span id="monthSumHeader">0 ‚ÇΩ</span></div>
          <div class="header__subtitle">–ù–∞ —Ä—É–∫–∏ (–∏—Ç–æ–≥): <span id="finalAmountHeader">0 ‚ÇΩ</span></div>
        </div>
        <div class="header__actions">
          <button id="settingsBtn" class="btn btn--sm btn--outline">‚öôÔ∏è –ù–∞—Å—Ç—Ä–æ–π–∫–∏</button>
          <button id="exportJsonBtn" class="btn btn--sm btn--outline">üíæ –≠–∫—Å–ø–æ—Ä—Ç JSON</button>
          <button id="reloadBtn" class="btn btn--sm btn--outline">üîÑ</button>
        </div>
      </div>
    </header>

    <nav class="nav">
      <div class="nav__container">
        <button class="nav__tab nav__tab--active" data-tab="records">üìù –£—á—ë—Ç</button>
        <button class="nav__tab" data-tab="statistics">üìà –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞</button>
        <button class="nav__tab" data-tab="history">üìã –ò—Å—Ç–æ—Ä–∏—è</button>
      </div>
    </nav>

    <main class="main">
      <div class="main__container">

        <!-- –£—á—ë—Ç -->
        <section class="screen screen--active" data-screen="records">
          <!-- ... –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ... -->
        </section>

        <!-- –°—Ç–∞—Ç–∏—Å—Ç–∏–∫–∞ -->
        <section class="screen" data-screen="statistics">
          <!-- ... –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ... -->
        </section>

        <!-- –ò—Å—Ç–æ—Ä–∏—è -->
        <section class="screen" data-screen="history">
          <!-- ... –±–µ–∑ –∏–∑–º–µ–Ω–µ–Ω–∏–π ... -->
        </section>

      </div>
    </main>
  </div>

  <!-- –ù–∞—Å—Ç—Ä–æ–π–∫–∏ -->
  <div id="settingsModal" class="modal">
    <div class="modal__backdrop"></div>
    <div class="modal__content">
      <div class="modal__header">
        <h2>–ù–∞—Å—Ç—Ä–æ–π–∫–∏</h2>
        <button id="closeSettingsBtn" class="modal__close">√ó</button>
      </div>
      <div class="modal__body">
        <div class="settings-tabs">
          <button class="settings-tab settings-tab--active" data-tab="salary">–ó–∞—Ä–ø–ª–∞—Ç–∞</button>
          <button class="settings-tab" data-tab="products">–ü—Ä–æ–¥—É–∫—Ç—ã</button>
          <button class="settings-tab" data-tab="general">–û–±—â–∏–µ</button>
          <button class="settings-tab" data-tab="backup">–ë—ç–∫–∞–ø</button>
        </div>
        <div class="settings-content">
          <!-- Salary, Products unchanged... -->

          <div class="settings-panel" data-panel="general">
            <div class="form-group">
              <label for="themeSelect">–¢–µ–º–∞ –æ—Ñ–æ—Ä–º–ª–µ–Ω–∏—è</label>
              <select id="themeSelect" class="form-control">
                <option value="classic">–ö–ª–∞—Å—Å–∏—á–µ—Å–∫–∞—è</option>
                <option value="dark">–¢—ë–º–Ω–∞—è</option>
                <option value="light">–°–≤–µ—Ç–ª–∞—è</option>
              </select>
            </div>
            <div class="form-group">
              <label for="presetsInput">–ü—Ä–µ—Å–µ—Ç—ã –∫–æ–ª–∏—á–µ—Å—Ç–≤–∞</label>
              <input id="presetsInput" class="form-control" type="text" placeholder="1,5,10,25,50">
            </div>
          </div>

          <div class="settings-panel" data-panel="backup">
            <div class="backup-section">
              <h4>–†—É—á–Ω–æ–π –±—ç–∫–∞–ø</h4>
              <button id="emailBackupBtn" class="btn btn--outline">üìß Email</button>
            </div>
            <div class="backup-section">
              <h4>–ê–≤—Ç–æ-–±—ç–∫–∞–ø</h4>
              <label class="checkbox-label">
                <input id="autoBackupEnabled" type="checkbox">
                –í–∫–ª—é—á–∏—Ç—å –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π –±—ç–∫–∞–ø –ø–æ Email
              </label>
            </div>
          </div>
        </div>
      </div>
      <div class="modal__footer">
        <button id="saveSettingsBtn" class="btn btn--primary">–°–æ—Ö—Ä–∞–Ω–∏—Ç—å</button>
        <button id="cancelSettingsBtn" class="btn btn--outline">–û—Ç–º–µ–Ω–∞</button>
      </div>
    </div>
  </div>

  <!-- Product Modal... -->

  <script src="work-schedule.js"></script>
  <script src="backup.js"></script>
  <script src="app.js"></script>
  <script>
    if ('serviceWorker' in navigator) {
      window.addEventListener('load', ()=>navigator.serviceWorker.register('./service-worker.js'));
    }
  </script>
</body>
</html>
